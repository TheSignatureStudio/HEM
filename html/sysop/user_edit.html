<div class="content-area">
    <div class="content-box">
        <div class="board-header">
            <h2 class="board-title">회원 정보 수정</h2>
        </div>

        <form class="post-write-form" name="form1" method="post">
            <input type="hidden" name="id" id="id">
            
            <div class="form-group">
                <label class="form-label" for="name">이름</label>
                <input type="text" id="name" name="name" class="form-input"  value="{{info.name}}" required>
            </div>

            <div class="form-group">
                <label class="form-label" for="username">아이디</label>
                <div style="display: flex; align-items: center; flex: 1;">
                    <input type="text" id="username" name="username" class="form-input" value="{{info.username}}" readonly>
                </div>
            </div>
            <div class="form-group">
                <label class="form-label" for="email">이메일</label>
                <input type="email" id="email" name="email" class="form-input" value="{{info.email}}" required>
            </div>

            <div class="form-group">
                <label class="form-label" for="phone">전화번호</label>
                <input type="text" id="phone" name="phone" class="form-input" value="{{info.phone}}">
            </div>

            <div class="form-group">
                <label class="form-label" for="role">역할</label>
                <select id="role" name="role" class="form-input">
                    <option value="0">일반사용자</option>
                    <option value="1">관리자</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label" for="status">상태</label>
                <select id="status" name="status" class="form-input">
                    <option value="1">활성화</option>
                    <option value="0">비활성화</option>
                </select>
            </div>

            <div class="button-group" style="justify-content: flex-end;">
                <button type="button" class="button button-cancel" onclick="location.href='/sysop/user_list.jsp'">취소</button>
                <button type="submit" class="button button-submit">저장</button>
            </div>
        </form>
        {{form_script}}
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
$(document).ready(function() {
    // 전화번호 자동 하이픈 추가
    $('#phone').on('input', function() {
        var phone = $(this).val().replace(/[^0-9]/g, ''); // 숫자만 남김
        if (phone.length > 3 && phone.length <= 7) {
            // 010-1234
            phone = phone.substr(0, 3) + '-' + phone.substr(3);
        } else if (phone.length > 7) {
            // 010-1234-5678
            phone = phone.substr(0, 3) + '-' + phone.substr(3, 4) + '-' + phone.substr(7);
        }
        $(this).val(phone);
    });
});
</script> 